# Blockchain



## 1 比特币

- 比特币概述
  - 比特币：数字货币
    - 2008，中本聪《白皮书》
    - 去中心化的电子记账系统
  - 区块：一个记账的块，存储固定大小的交易记录
  - 区块链：区块链接到以前的链形成区块链
- 问题
  - 以谁为准
  - 为何要记账
  - 防伪
- 为何要记账：记账奖励
  - 手续费
  - 打包奖励
- 以谁为准
  - 工作量证明（挖矿）
- 挖矿原理
  - 哈希函数（SHA256）：正向计算容易，反向计算困难
  - 原理（符合要求即可打包）
    1. 字符串=前区块头部+账单+时间+随即数（仅随机数可变）
    2. Hash=SHA256(SHA356(字符串))
    3. 要求前n位是0
  - 难度n的确定：每分钟出一个块



## 2 防伪

- 身份认证

  - 传统：人脸、签名、指纹

  - 电子签名
    - 随机数 >> 私钥（保密） >> 公钥（公开） >> 地址
    - 非对称加密：加密使用私钥，解密使用公钥
    - 过程：
      1. A发给B10个BTC，A对此条记录做Hash运算得到【摘要】，将摘要用【私钥】加密，得到【密码】
      2. A将此条记录广播给公众，同时将【公钥】和【密码】广播给公众
      3. 公众收到消息后，对此条记录做Hash运算得到【摘要1】，用公钥对密码进行解密得到【摘要2】，将两个摘要进行对比即可验证

- 双重支付问题

  - 余额检查：追溯
  - 防止双重支付：只有链上的信息是可信的

- 篡改问题

  - 最长链原则：只认最长的链
  - 防止篡改：没有人想对抗全世界



## 3 Web3

- web3.0
  - 把权利还给大家
  - 全球透明的东西-区块链
  - 以太坊/比特币：共识机器+上层应用